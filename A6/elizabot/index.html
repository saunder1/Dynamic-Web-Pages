<!DOCTYPE html>
<html>
<head>
	<title>Eliza (elizabot.js)</title>
	<script language="JavaScript" type="text/javascript" src="elizabot.js"></script>
	<script language="JavaScript" type="text/javascript" src="elizadata.js"></script>
	<link rel="stylesheet" href="style.css">
	<script language="JavaScript" type="text/javascript">
		// JavaScript code...
		var eliza = new ElizaBot();
		var elizaLines = new Array();
		var displayCols = 60;
		var displayRows = 20;

		function elizaReset() {
			eliza.reset();
			elizaLines.length = 0;
			elizaStep();
		}

		function elizaStep() {
			var f = document.forms.e_form;
			var userinput = f.e_input.value;
			if (eliza.quit) {
				f.e_input.value = '';
				if (confirm("This session is over.\nStart over?")) elizaReset();
				f.e_input.focus();
				return;
			}
			else if (userinput != '') {
				var usr = '<div class="userLine">YOU:   ' + userinput + '</div>';
				var rpl = '<div class="botLine">GANDALF: ' + eliza.transform(userinput) + '</div>';
				document.getElementById('chatLog').innerHTML += usr + rpl;
			}
			else if (elizaLines.length == 0) {
				var initial = '<div class="botLine">GANDALF: ' + eliza.getInitial() + '</div>';
				document.getElementById('chatLog').innerHTML += initial;
      }
			f.e_input.value = '';
			f.e_input.focus();
		}
	</script>
</head>

<body topmargin="0" leftmargin="0" rightmargin="0" bottommargin="0" marginheight="0" marginwidth="0" style="border:0" onload="window.setTimeout('elizaReset()',100)"><a name="top"></a>

<center>
<p>&nbsp;</p>
<h1>Gandalf The Grey</h1>
<table border="0" cellspacing="10" cellpadding="0">
<form name="e_form" onsubmit="elizaStep();return false">
<tr><td colspan="2"><div id="chatLog" style="width: 100%; height: 300px; padding: 10px;"></div></td></tr>
<tr valign="middle">
	<td><input type="text" name="e_input" size="50" id="chatInput"></td>
	<td align="right"><input type="submit" value="&nbsp;Talk&nbsp;"> <input type="reset" value="Reset" onclick="window.setTimeout('elizaReset()',100)"></td>
</tr>
</form>
</table>
</center>

</body>
</html>

